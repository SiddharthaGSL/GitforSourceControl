table "main"."admsite" {
  primaryKey = {
    columns = [
      "code"
    ]
    name = "p_admsite_code"
    objectType = primaryKey
  }
  columns = (
    column "code" {
      type = bigint
      null = NOT NULL
    }
    column "name" {
      type = character varying(100)
      null = NOT NULL
    }
    column "slcode" {
      type = bigint
    }
    column "cmpcode" {
      type = bigint
      null = NOT NULL
    }
    column "shrtname" {
      type = character varying(25)
      null = NOT NULL
    }
    column "address" {
      type = character varying(500)
    }
    column "ctname" {
      type = character varying(100)
    }
    column "pin" {
      type = character varying(12)
    }
    column "oph1" {
      type = character varying(25)
    }
    column "oph2" {
      type = character varying(25)
    }
    column "oph3" {
      type = character varying(25)
    }
    column "rph1" {
      type = character varying(25)
    }
    column "mobile" {
      type = character varying(25)
    }
    column "fax" {
      type = character varying(25)
    }
    column "email1" {
      type = character varying(50)
    }
    column "email2" {
      type = character varying(50)
    }
    column "website" {
      type = character varying(50)
    }
    column "contact_person" {
      type = character varying(100)
    }
    column "lstno" {
      type = character varying(50)
    }
    column "lstdate" {
      type = timestamp(0) without time zone
    }
    column "cstno" {
      type = character varying(50)
    }
    column "cstdate" {
      type = timestamp(0) without time zone
    }
    column "termcode" {
      type = bigint
    }
    column "issecondary" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "trpcode" {
      type = bigint
    }
    column "lgt_appl" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "permit_appl" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "transit_days" {
      type = bigint
    }
    column "store_target_sales" {
      type = numeric(20,3)
    }
    column "store_size" {
      type = bigint
    }
    column "store_startdt" {
      type = timestamp(0) without time zone
    }
    column "store_closedt" {
      type = timestamp(0) without time zone
    }
    column "store_loccode" {
      type = bigint
    }
    column "ispos" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "psite_group_code" {
      type = bigint
    }
    column "psite_transit_loccode" {
      type = bigint
    }
    column "psite_initial" {
      type = character varying(14)
    }
    column "psite_admcmptax_code" {
      type = bigint
    }
    column "ext" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "psite_localpolicy_code" {
      type = bigint
    }
    column "psite_allocation_code" {
      type = bigint
    }
    column "psite_ispublished" {
      type = character(1)
      default = 'N'::bpchar
    }
    column "psite_key" {
      type = character varying(50)
    }
    column "psite_promo_allocation_code" {
      type = bigint
    }
    column "psite_stopsync" {
      type = character(1)
    }
    column "dataversion" {
      type = bigint
      null = NOT NULL
    }
    column "psite_intransit_loccode" {
      type = bigint
    }
    column "cp" {
      type = character varying(15)
    }
    column "version" {
      type = character varying(15)
    }
    column "ispromosend_blocked" {
      type = character(1)
      default = 'N'::bpchar
    }
    column "pricetype" {
      type = character(1)
      null = NOT NULL
      default = 'M'::bpchar
    }
    column "pricefactor" {
      type = numeric(5,2)
    }
    column "operationstartdate" {
      type = timestamp(0) without time zone
    }
    column "psite_timezone" {
      type = character varying(200)
    }
    column "sitetype" {
      type = character varying(15)
      null = NOT NULL
    }
    column "admou_code" {
      type = bigint
    }
    column "pricelist_code" {
      type = bigint
    }
    column "out_lgt_appl" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "out_permit_appl" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "gatein_appl" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "inloccode" {
      type = bigint
    }
    column "outloccode" {
      type = bigint
    }
    column "psite_stockpoint_code" {
      type = character varying(50)
    }
    column "psite_si_allocation_code" {
      type = bigint
    }
    column "saltradegrp_code" {
      type = bigint
    }
    column "salformcode" {
      type = bigint
    }
    column "iscentrallymanaged" {
      type = bigint
      null = NOT NULL
      default = 0
    }
    column "issalespersonmanaged" {
      type = bigint
      null = NOT NULL
      default = 0
    }
    column "lastsyncendtime" {
      type = timestamp(0) without time zone
    }
    column "lastfullbackupendtime" {
      type = timestamp(0) without time zone
    }
    column "lastdiffbackupendtime" {
      type = timestamp(0) without time zone
    }
    column "udfstring01" {
      type = character varying(100)
    }
    column "udfstring02" {
      type = character varying(100)
    }
    column "udfstring03" {
      type = character varying(100)
    }
    column "udfstring04" {
      type = character varying(100)
    }
    column "udfstring05" {
      type = character varying(100)
    }
    column "udfstring06" {
      type = character varying(100)
    }
    column "udfstring07" {
      type = character varying(100)
    }
    column "udfstring08" {
      type = character varying(100)
    }
    column "udfstring09" {
      type = character varying(100)
    }
    column "udfstring10" {
      type = character varying(100)
    }
    column "udfstring11" {
      type = character varying(100)
    }
    column "udfstring12" {
      type = character varying(100)
    }
    column "udfstring13" {
      type = character varying(100)
    }
    column "udfstring14" {
      type = character varying(100)
    }
    column "udfstring15" {
      type = character varying(100)
    }
    column "reportname" {
      type = character varying(100)
    }
    column "reserve_inv" {
      type = character(1)
      null = NOT NULL
      default = 'N'::bpchar
    }
    column "default_picklist_rule" {
      type = bigint
    }
    column "cp_gstin_date" {
      type = timestamp(0) without time zone
    }
    column "admgstin_code" {
      type = bigint
    }
    column "cp_gstin_no" {
      type = character varying(15)
    }
    column "cp_gstin_state_code" {
      type = character(2)
    }
    column "sitedocin" {
      type = character(3)
    }
    column "isbillingshippingsame" {
      type = character(1)
      null = NOT NULL
      default = 'Y'::bpchar
    }
    column "ship_legal_name" {
      type = character varying(100)
    }
    column "ship_cinno" {
      type = character varying(100)
    }
    column "ship_address" {
      type = character varying(500)
    }
    column "ship_ctname" {
      type = character varying(100)
    }
    column "ship_pin" {
      type = character varying(12)
    }
    column "ship_oph1" {
      type = character varying(25)
    }
    column "ship_oph2" {
      type = character varying(25)
    }
    column "ship_oph3" {
      type = character varying(25)
    }
    column "ship_rph1" {
      type = character varying(25)
    }
    column "ship_mobile" {
      type = character varying(25)
    }
    column "ship_fax" {
      type = character varying(25)
    }
    column "ship_email1" {
      type = character varying(50)
    }
    column "ship_email2" {
      type = character varying(50)
    }
    column "ship_website" {
      type = character varying(50)
    }
    column "ship_contact_person" {
      type = character varying(100)
    }
    column "ship_cp_category_code" {
      type = bigint
    }
    column "ship_cp_gstin_no" {
      type = character varying(15)
    }
    column "ship_cp_gstin_state_code" {
      type = character(2)
    }
    column "ship_cp_gstin_date" {
      type = timestamp(0) without time zone
    }
    column "admisd_code" {
      type = bigint
    }
    column "isglobalposreturnallowed" {
      type = bigint
      null = NOT NULL
      default = 0
    }
    column "installation_type" {
      type = character(4)
    }
    column "udfnum01" {
      type = numeric(20,3)
    }
    column "udfnum02" {
      type = numeric(20,3)
    }
    column "udfnum03" {
      type = numeric(20,3)
    }
    column "udfnum04" {
      type = numeric(20,3)
    }
    column "udfnum05" {
      type = numeric(20,3)
    }
    column "udfdate01" {
      type = timestamp(0) without time zone
    }
    column "udfdate02" {
      type = timestamp(0) without time zone
    }
    column "udfdate03" {
      type = timestamp(0) without time zone
    }
    column "udfdate04" {
      type = timestamp(0) without time zone
    }
    column "udfdate05" {
      type = timestamp(0) without time zone
    }
    column "floorloccode" {
      type = bigint
    }
    column "datasyncmode" {
      type = character(1)
      default = NULL::bpchar
    }
    column "license_refresh" {
      type = bigint
      null = NOT NULL
      default = 0
    }
    column "isreadyforlivesync" {
      type = bigint
      null = NOT NULL
      default = 0
    }
    column "batch_selection_process" {
      type = character varying(9)
      null = NOT NULL
      default = 'FEFO'::character varying
    }
  )
}

foreignKey "main"."admsite"."admsite_psite_r01" {
  columns = [
    "psite_localpolicy_code"
  ]
  referencedTable = "main"."psite_localpolicy"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."admsite_psite_r02" {
  columns = [
    "psite_group_code"
  ]
  referencedTable = "main"."psite_group"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."admsite_psite_r03" {
  columns = [
    "psite_allocation_code"
  ]
  referencedTable = "main"."psite_allocation"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."admsite_psite_r04" {
  columns = [
    "psite_promo_allocation_code"
  ]
  referencedTable = "main"."promo_allocation"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."admsite_psite_r05" {
  columns = [
    "default_picklist_rule"
  ]
  referencedTable = "main"."picklist_rule"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."admsite_psite_r06" {
  columns = [
    "cp_gstin_state_code"
  ]
  referencedTable = "main"."admgststate"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."admsite_psite_r07" {
  columns = [
    "admgstin_code"
  ]
  referencedTable = "main"."admgstin"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."r_admsite_admou_code" {
  columns = [
    "admou_code"
  ]
  referencedTable = "main"."admou"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."r_admsite_ctname" {
  columns = [
    "ctname"
  ]
  referencedTable = "main"."admcity"
  referencedColumns = [
    "ctname"
  ]
}

foreignKey "main"."admsite"."r_admsite_inloccode" {
  columns = [
    "inloccode"
  ]
  referencedTable = "main"."invloc"
  referencedColumns = [
    "loccode"
  ]
}

foreignKey "main"."admsite"."r_admsite_isdcode" {
  columns = [
    "admisd_code"
  ]
  referencedTable = "main"."admisd"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."r_admsite_outloccode" {
  columns = [
    "outloccode"
  ]
  referencedTable = "main"."invloc"
  referencedColumns = [
    "loccode"
  ]
}

foreignKey "main"."admsite"."r_admsite_pricelist_code" {
  columns = [
    "pricelist_code"
  ]
  referencedTable = "main"."salpricelistmain"
  referencedColumns = [
    "pricelistcode"
  ]
}

foreignKey "main"."admsite"."r_admsite_psite_stkpt_code" {
  columns = [
    "psite_stockpoint_code"
  ]
  referencedTable = "main"."psite_stockpoint"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."r_admsite_salformcode" {
  columns = [
    "salformcode"
  ]
  referencedTable = "main"."finform"
  referencedColumns = [
    "formcode"
  ]
}

foreignKey "main"."admsite"."r_admsite_saltradegrp_code" {
  columns = [
    "saltradegrp_code"
  ]
  referencedTable = "main"."fintradegrp"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."r_admsite_slcode" {
  columns = [
    "slcode"
  ]
  referencedTable = "main"."finsl"
  referencedColumns = [
    "slcode"
  ]
}

foreignKey "main"."admsite"."r_admsite_store_loccode" {
  columns = [
    "store_loccode"
  ]
  referencedTable = "main"."invloc"
  referencedColumns = [
    "loccode"
  ]
}

foreignKey "main"."admsite"."r_admsite_termcode" {
  columns = [
    "termcode"
  ]
  referencedTable = "main"."saltermmain"
  referencedColumns = [
    "saltermcode"
  ]
}

foreignKey "main"."admsite"."r_admsite_transit_loccode" {
  columns = [
    "psite_transit_loccode"
  ]
  referencedTable = "main"."invloc"
  referencedColumns = [
    "loccode"
  ]
}

foreignKey "main"."admsite"."r_admsite_trpcode" {
  columns = [
    "trpcode"
  ]
  referencedTable = "main"."finsl"
  referencedColumns = [
    "slcode"
  ]
}

foreignKey "main"."admsite"."r_floor_stock_point" {
  columns = [
    "floorloccode"
  ]
  referencedTable = "main"."invloc"
  referencedColumns = [
    "loccode"
  ]
}

foreignKey "main"."admsite"."r_ship_cp_category_code" {
  columns = [
    "ship_cp_category_code"
  ]
  referencedTable = "main"."admgstcategory"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."r_ship_cp_gstin_state_code" {
  columns = [
    "ship_cp_gstin_state_code"
  ]
  referencedTable = "main"."admgststate"
  referencedColumns = [
    "code"
  ]
}

foreignKey "main"."admsite"."si_alloc_det_pst_si_alloc_code" {
  columns = [
    "psite_si_allocation_code"
  ]
  referencedTable = "main"."si_allocation"
  referencedColumns = [
    "code"
  ]
}

index "main"."admsite_lk01" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = cmpcode
    }

  >
  isUnique = False
}

index "main"."admsite_lk02" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_admcmptax_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk03" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_transit_loccode
    }

  >
  isUnique = False
}

index "main"."admsite_lk04" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = slcode
    }

  >
  isUnique = False
}

index "main"."admsite_lk05" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = store_loccode
    }

  >
  isUnique = False
}

index "main"."admsite_lk06" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = termcode
    }

  >
  isUnique = False
}

index "main"."admsite_lk07" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = trpcode
    }

  >
  isUnique = False
}

index "main"."admsite_lk08" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_allocation_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk09" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_group_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk10" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_localpolicy_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk11" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_promo_allocation_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk12" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = admou_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk13" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = pricelist_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk14" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = inloccode
    }

  >
  isUnique = False
}

index "main"."admsite_lk15" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = outloccode
    }

  >
  isUnique = False
}

index "main"."admsite_lk16" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_stockpoint_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk17" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_si_allocation_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk18" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = salformcode
    }

  >
  isUnique = False
}

index "main"."admsite_lk19" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = saltradegrp_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk20" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = default_picklist_rule
    }

  >
  isUnique = False
}

index "main"."admsite_lk21" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = admgstin_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk22" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = cp_gstin_state_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk23" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = ship_cp_category_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk24" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = ship_cp_gstin_state_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk25" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = admisd_code
    }

  >
  isUnique = False
}

index "main"."admsite_lk26" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = ctname
    }

  >
  isUnique = False
}

index "main"."admsite_lk27" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = floorloccode
    }

  >
  isUnique = False
}

index "main"."admsite_psite_u01" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = psite_key
    }

  >
  isUnique = True
}

index "main"."admsite_psite_u02" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = sitedocin
    }

  >
  isUnique = True
}

index "main"."i_admsite_sitetype" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = sitetype
    }

  >
  isUnique = False
}

index "main"."u_admsite_slcode_name" {
  table = "main"."admsite"
  type = btree
  columns = <
    {
      definition = slcode
    }

    {
      definition = name
    }

  >
  isUnique = True
}

trigger "main"."admsite"."t_admsite_cdc" {
  timing = BEFORE
  events = [
    UPDATE
    INSERT
  ]
  level = ROW
  function = main.trigger_fct_t_admsite_cdc
  functionArguments = [
  ]
  constraint = False
  updateColumns = [
    name
    shrtname
    address
    ctname
    pin
    oph1
    oph2
    oph3
    rph1
    mobile
    fax
    email1
    email2
    website
    contact_person
    lstno
    lstdate
    cstno
    cstdate
    termcode
    issecondary
    trpcode
    lgt_appl
    permit_appl
    transit_days
    store_target_sales
    store_size
    store_startdt
    store_closedt
    store_loccode
    ispos
    psite_group_code
    psite_transit_loccode
    psite_initial
    psite_admcmptax_code
    ext
    psite_localpolicy_code
    psite_allocation_code
    psite_ispublished
    psite_promo_allocation_code
    psite_stopsync
    ispromosend_blocked
    iscentrallymanaged
    issalespersonmanaged
    admgstin_code
    cp_gstin_no
    cp_gstin_state_code
    sitedocin
    admisd_code
    isglobalposreturnallowed
    datasyncmode
  ]
}

trigger "main"."admsite"."t_admsite_customer_merge_err" {
  timing = BEFORE
  events = [
    UPDATE
  ]
  level = ROW
  function = main.t_admsite_customer_merge_err
  functionArguments = [
  ]
  constraint = False
  updateColumns = [
    version
  ]
}

trigger "main"."admsite"."t_admsite_gds2" {
  timing = AFTER
  events = [
    UPDATE
    INSERT
  ]
  level = ROW
  function = main.trigger_fct_t_admsite_gds2
  functionArguments = [
  ]
  constraint = False
}

trigger "main"."admsite"."t_admsite_gst" {
  timing = BEFORE
  events = [
    UPDATE
    INSERT
  ]
  level = ROW
  function = main.t_admsite_gst
  functionArguments = [
  ]
  constraint = False
  updateColumns = [
    admgstin_code
  ]
}

trigger "main"."admsite"."t_admsite_ispublished" {
  timing = BEFORE
  events = [
    UPDATE
  ]
  level = ROW
  function = main.t_admsite_ispublished
  functionArguments = [
  ]
  constraint = False
}

trigger "main"."admsite"."t_admsite_psite_key" {
  timing = BEFORE
  events = [
    UPDATE
    INSERT
  ]
  level = ROW
  function = main.t_admsite_psite_key
  functionArguments = [
  ]
  constraint = False
  updateColumns = [
    psite_initial
  ]
}

trigger "main"."admsite"."t_admsite_sitetype" {
  timing = BEFORE
  events = [
    UPDATE
    INSERT
  ]
  level = ROW
  function = main.t_admsite_sitetype
  functionArguments = [
  ]
  constraint = False
  updateColumns = [
    code
    slcode
    issecondary
    ispos
  ]
}

